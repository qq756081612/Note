## 第五章 函数
- 一个函数若只有一个参数且这个参数是字符串或table构造式{}，那么函数的()可以省略。  
- 函数的形参和实参数目不同时，Lua会自动进行调节，调节机制和多重赋值一致。

### 5.1 多重返回值
Lua会调整一个函数的返回值数量以适应不同的情况：
1. 函数作为单独语句调用时，舍弃所有返回值
2. 若将函数作为表达式的一部分来调用时，只保留函数第一个返回值
3. 当函数是一系列表达式中的最后一个元素时，才能获得他所有的返回值。一系列表达式包含四种情况：多重赋值，函数调用时传入的实参列表，table构造式，return语句。
4. 可以使用括号迫使函数只返回一个值
~~~lua
	function funcA(a,b)
		return a.b
	end

	print(funcA(1,2)) --> 1,2
	print((funcA(1,2))) --> 1
~~~   
5. unpack函数，接受一个数组作为参数，并从下标1开始遍历返回

### 5.2 变长参数
- 可将...视为一个有多个返回值的函数使用，通过多重赋值或table构造式接受使用
- 遍历时如果...中含有nil参数，需要使用select函数才能正确遍历,select函数第一个固定参数传入"#"时，返回可变参数的总数（包含nil）传入整型n时，返回第n个参数。

~~~lua
	for i = 1,select("#",...)
		print(selfct(i,...))
	end
~~~

### 5.3 具名参数
- 具有名字的实参对于一个需要大量参数的函数，且其中大部分的参数是可选的的时候，非常有用。
- 实现思路：函数的参数仅用一个table表示，函数中通过table的字段名来使用参数，调用函数时传入一个table。

~~~lua
	function name(arg)
		rename(arg.old,arg.new)	
	end

	name({old = "old.lua",new = "new.lua"})
~~~